# Test Suite Refactor Plan
This document outlines the proposed breakdown of the test suite after reviewing the architecture described in README.md and the docs. The code base is organized into several subsystems including the Shogi engine, reinforcement learning core, manager-based training pipeline, evaluation system, utilities, and display components. Tests are grouped into unit tests for each subsystem, integration tests covering interactions between managers and the evaluation pipeline, and a few end-to-end scripts.


## Categorized Test Inventory

| Test File | Contained Tests | Purpose | Suite |
|-----------|----------------|---------|-------|
| tests/evaluation/test_core.py | test_context_creation_and_serialization,test_summary_stats_from_games | evaluation - test core | Evaluation Unit |
| tests/evaluation/test_elo_registry.py | test_elo_registry_load_update_save | evaluation - test elo registry | Evaluation Unit |
| tests/evaluation/test_evaluate_agent_loading.py | test_load_evaluation_agent_mocked,test_load_evaluation_agent_missing_checkpoint | evaluation - test evaluate agent loading | Evaluation Unit |
| tests/evaluation/test_evaluate_evaluator.py | test_evaluation_manager_replaces_evaluator_basic,test_evaluation_manager_checkpoint_compatibility | evaluation - test evaluate evaluator | Evaluation Unit |
| tests/evaluation/test_evaluate_evaluator_modern.py | - | evaluation - test evaluate evaluator modern | Evaluation Unit |
| tests/evaluation/test_evaluate_main.py | test_evaluation_manager_single_opponent_basic,test_evaluation_manager_with_checkpoint,test_evaluation_manager_current_agent_with_model_check,test_evaluation_manager_agent_without_model_raises_error,test_evaluation_manager_tournament_strategy_with_mock | evaluation - test evaluate main | Evaluation Unit |
| tests/evaluation/test_evaluate_opponents.py | test_opponent_select_move,test_initialize_opponent_types,test_initialize_opponent_unknown_type,test_initialize_opponent_ppo,test_initialize_opponent_invalid_type | evaluation - test evaluate opponents | Evaluation Unit |
| tests/evaluation/test_evaluation_callback_integration.py | test_evaluation_callback_updates_elo | evaluation - test evaluation callback integration | Evaluation Unit |
| tests/evaluation/test_evaluation_manager.py | test_evaluate_checkpoint,test_evaluate_current_agent | evaluation - test evaluation manager | Evaluation Unit |
| tests/evaluation/test_in_memory_evaluation.py | test_model_weight_manager_creation,test_extract_agent_weights,test_evaluation_manager_in_memory_method_exists,test_evaluation_manager_in_memory_with_mock_agent,test_model_weight_manager_cache_cleanup,test_get_cache_stats | evaluation - test in memory evaluation | Evaluation Unit |
| tests/evaluation/test_model_manager.py | test_extract_agent_weights,test_extract_agent_weights_no_model,test_cache_opponent_weights,test_cache_opponent_weights_file_not_found,test_cache_lru_eviction,test_cache_reuse,test_get_cache_stats,test_clear_cache,test_get_memory_usage,test_create_agent_from_weights_success,test_create_agent_from_weights_infer_channels,test_create_agent_from_weights_invalid_weights | evaluation - test model manager | Evaluation Unit |
| tests/evaluation/test_opponent_pool.py | test_pool_add_sample_and_evict,test_pool_champion_rating | evaluation - test opponent pool | Evaluation Unit |
| tests/evaluation/test_previous_model_selector.py | test_previous_model_selector_basic | evaluation - test previous model selector | Evaluation Unit |
| tests/test_actor_critic_refactoring.py | test_both_models_inherit_from_base,test_shared_methods_work_identically,test_deterministic_mode | test actor critic refactoring | Misc |
| tests/test_checkpoint.py | test_load_checkpoint_with_padding_scenarios | test checkpoint | Utility Unit |
| tests/test_configuration_integration.py | test_config_schema_matches_yaml,test_training_log_file_configuration,test_evaluation_log_file_configuration,test_config_validation_with_missing_fields,test_config_with_custom_yaml | test configuration integration | Integration |
| tests/test_dependencies.py | test_pyproject_toml_exists,test_main_dependencies_structure,test_dev_dependencies_available,test_torch_functionality,test_numpy_functionality,test_pydantic_functionality,test_yaml_functionality,test_rich_functionality,test_python_dotenv_functionality,test_version_compatibility,test_matplotlib_not_required,test_matplotlib_references_removed,test_deptry_analysis,test_no_unused_imports_in_core,test_pip_environment_consistency,test_requirements_files_consistency,test_full_system_imports,test_training_pipeline_dependencies,test_configuration_system_dependencies | test dependencies | Misc |
| tests/test_display_components.py | test_multi_metric_sparkline_render,test_rolling_average_calculator,test_sparkline_bounded_generation | test display components | Display Unit |
| tests/test_display_infrastructure.py | test_display_config_defaults,test_metrics_history_trimming,test_elo_rating_updates,test_sparkline_generation,test_adaptive_layout_choice,test_shogi_board_basic_render,test_recent_moves_panel_render | test display infrastructure | Display Unit |
| tests/test_env_manager.py | test_initialization_success,test_initialization_no_seed,test_initialization_game_error,test_initialization_policy_mapper_error,test_action_space_validation_success,test_action_space_validation_mismatch,test_environment_operations,test_setup_seeding_with_explicit_seed,test_setup_seeding_with_config_seed,test_setup_seeding_no_seed_method,test_setup_seeding_error,test_validate_environment_success,test_validate_environment_game_none,test_validate_environment_policy_mapper_none,test_validate_environment_invalid_action_space,test_get_environment_info | test env manager | Manager Unit |
| tests/test_evaluate.py | - | test evaluate | Misc |
| tests/test_experience_buffer.py | test_experience_buffer_add_and_len,test_experience_buffer_compute_advantages_and_returns,test_experience_buffer_compute_advantages_empty_buffer,test_experience_buffer_get_batch,test_experience_buffer_get_batch_empty,test_experience_buffer_get_batch_stack_error,test_experience_buffer_clear,test_experience_buffer_full_buffer_warning,test_experience_buffer_device_consistency | test experience buffer | RL Core Unit |
| tests/test_features.py | test_core46_shape_and_zeros,test_core46all_shape_and_zeros,test_check_plane,test_repetition_plane,test_prom_zone_plane,test_last2ply_plane,test_hand_onehot_plane,test_registry_and_spec | test features | Misc |
| tests/test_integration_smoke.py | test_training_smoke_test,test_evaluation_smoke_test,test_config_system_smoke_test | test integration smoke | Integration |
| tests/test_legal_mask_generation.py | test_initial_position_legal_mask,test_evaluation_legal_mask_fix,test_king_in_check_mask,test_checkmate_mask,test_drop_moves_mask,test_promotion_mask,test_specific_board_moves_are_legal,test_no_legal_moves_for_opponent_in_checkmate,test_stalemate_mask,test_nifu_scenario_with_explicit_game_instance | test legal mask generation | Misc |
| tests/test_logger.py | test_training_logger,test_evaluation_logger | test logger | Misc |
| tests/test_metrics_manager.py | test_log_episode_metrics_and_rates,test_processing_flag_toggle | test metrics manager | Manager Unit |
| tests/test_model_manager_checkpoint_and_artifacts.py | test_handle_checkpoint_resume_latest_found,test_handle_checkpoint_resume_not_found,test_handle_checkpoint_resume_explicit_path,test_create_model_artifact_success,test_create_model_artifact_wandb_inactive,test_create_model_artifact_file_missing,test_save_final_model_success,test_save_final_checkpoint_success,test_save_final_checkpoint_zero_timestep,test_load_checkpoint_multiple_available,test_load_checkpoint_specific_not_found,test_load_checkpoint_corrupted_data,test_save_checkpoint_directory_creation,test_create_model_artifact_with_metadata,test_create_model_artifact_wandb_failure_handling,test_create_model_artifact_wandb_inactive | test model manager checkpoint and artifacts | Manager Unit |
| tests/test_model_manager_init.py | test_initialization_success,test_initialization_with_args_override,test_mixed_precision_cuda_enabled,test_mixed_precision_cpu_warning,test_get_model_info,test_model_creation_and_agent_instantiation | test model manager init | Manager Unit |
| tests/test_model_save_load.py | test_model_save_and_load | test model save load | Misc |
| tests/test_move_formatting.py | test_board_move_without_game_context,test_promoting_move_without_game_context,test_drop_moves,test_none_move,test_move_formatting_error_handling,test_enhanced_board_move_with_piece_info,test_enhanced_promoting_move_with_piece_info,test_enhanced_board_move_without_piece_info,test_enhanced_drop_move,test_enhanced_none_move,test_regular_piece_names,test_promoted_piece_names,test_promotion_transformations,test_unknown_piece_type,test_coordinate_conversion,test_coordinate_bounds,test_comprehensive_move_set,test_format_consistency | test move formatting | Misc |
| tests/test_neural_network.py | test_actor_critic_init_and_forward | test neural network | RL Core Unit |
| tests/test_observation_constants.py | test_observation_plane_constants_match_implementation | test observation constants | Misc |
| tests/test_parallel_smoke.py | test_multiprocessing_basic_functionality,test_future_parallel_environment_interface,test_future_self_play_worker_interface,test_parallel_system_configuration | test parallel smoke | Integration |
| tests/test_parallel_system.py | test_worker_communicator_init,test_model_synchronizer_init,test_parallel_manager_init,test_control_commands,test_model_weight_transmission,test_experience_collection,test_queue_info,test_model_compression,test_model_sync_timing | test parallel system | Parallel System |
| tests/test_ppo_agent_core.py | test_ppo_agent_init_basic,test_ppo_agent_get_name,test_ppo_agent_num_actions_total,test_select_action_basic,test_select_action_with_game_context,test_select_action_deterministic_vs_stochastic,test_get_value_basic,test_get_value_batch_consistency,test_learn_basic,test_learn_parameter_updates,test_learn_multiple_calls,test_scheduler_initialization_none,test_scheduler_initialization_linear,test_scheduler_initialization_cosine,test_scheduler_step_calculation_epoch_mode,test_scheduler_step_calculation_update_mode,test_learning_rate_changes_with_linear_scheduler,test_scheduler_step_on_epoch_vs_update | test ppo agent core | RL Core Unit |
| tests/test_ppo_agent_edge_cases.py | test_select_action_invalid_observation_shape,test_select_action_invalid_legal_mask_shape,test_select_action_all_illegal_moves,test_get_value_invalid_observation,test_single_legal_action,test_legal_mask_device_mismatch,test_legal_mask_wrong_dtype,test_save_model_basic,test_load_model_basic,test_save_load_round_trip_preserves_behavior,test_load_nonexistent_file,test_save_to_invalid_path,test_invalid_hyperparameters,test_cpu_device_consistency,test_cuda_device_consistency,test_mixed_device_inputs,test_extremely_small_learning_rate,test_zero_experiences_after_compute_advantages,test_invalid_scheduler_type,test_scheduler_with_invalid_kwargs,test_scheduler_with_zero_total_steps,test_scheduler_step_validation,test_scheduler_extreme_learning_rates,test_scheduler_state_persistence,test_scheduler_with_very_large_total_steps,test_scheduler_boundary_learning_rates,test_scheduler_configuration_edge_cases | test ppo agent edge cases | RL Core Unit |
| tests/test_ppo_agent_enhancements.py | test_select_action_no_grad_and_obs_norm,test_value_function_clipping_enabled,test_value_function_clipping_disabled | test ppo agent enhancements | RL Core Unit |
| tests/test_ppo_agent_learning.py | test_learn_loss_components,test_advantage_normalization_config_option,test_advantage_normalization_behavior_difference,test_gradient_clipping,test_kl_divergence_tracking,test_minibatch_processing,test_empty_buffer_handling,test_single_experience_learning,test_learning_with_linear_scheduler,test_learning_with_cosine_scheduler,test_learning_with_exponential_scheduler,test_learning_with_step_scheduler,test_scheduler_interaction_with_multiple_epochs,test_scheduler_disabled_maintains_constant_lr,test_scheduler_respects_optimizer_lr_changes | test ppo agent learning | RL Core Unit |
| tests/test_profiling.py | test_monitor_initialization,test_time_operation_context_manager,test_multiple_timing_operations,test_increment_counter,test_get_stats,test_reset,test_print_summary,test_profile_function_decorator,test_function,test_profile_training_step_decorator,test_profile_game_operation_decorator,test_profile_code_block_context_manager,test_run_profiler,test_function,test_run_profiler_with_arguments,test_memory_usage_tracking,test_global_monitor_instance,test_concurrent_profiling,test_profiling_error_handling,test_nested_profiling_operations,test_profiling_with_real_training_simulation,test_empty_statistics,test_rapid_consecutive_operations,test_long_operation_names,test_special_characters_in_names,test_profiling_overhead,test_memory_efficiency | test profiling | Misc |
| tests/test_remediation_integration.py | test_complete_system_startup,test_seeding_with_profiling_integration,test_training_simulation_with_full_stack,test_configuration_seeding_profiling_workflow,test_error_handling_across_components,test_existing_config_system,test_existing_game_functionality,test_existing_training_infrastructure,test_imports_remain_stable,test_seeding_performance_impact,test_profiling_performance_impact,test_memory_usage_stability,test_development_workflow,test_debugging_scenario,test_performance_optimization_workflow,test_all_remediation_components_present,test_remediation_documentation_exists,test_no_breaking_changes,test_system_stability_after_remediation | test remediation integration | Integration |
| tests/test_resnet_tower.py | test_resnet_tower_forward_shapes,test_resnet_tower_fp16_memory,test_resnet_tower_se_toggle,test_basic_functionality,test_deterministic_vs_stochastic,test_legal_mask_basic,test_legal_mask_batch_broadcasting,test_single_obs_legal_mask_adaptation,test_all_false_legal_mask_nan_handling,test_device_consistency,test_gradient_flow,test_basic_functionality,test_with_legal_mask,test_all_false_legal_mask_nan_handling,test_consistency_with_get_action_and_value,test_entropy_properties,test_gradient_flow,test_device_consistency,test_extreme_legal_masks,test_numerical_stability,test_batch_size_edge_cases,test_mixed_legal_masks_in_batch | test resnet tower | RL Core Unit |
| tests/test_reward_with_flipped_perspective.py | test_reward_with_flipped_perspective,test_feature_plane_flipping_for_observation | test reward with flipped perspective | RL Core Unit |
| tests/test_scheduler_factory.py | test_create_scheduler_none_type,test_create_linear_scheduler,test_create_cosine_scheduler,test_create_exponential_scheduler,test_create_step_scheduler,test_invalid_scheduler_type,test_scheduler_with_default_kwargs,test_linear_scheduler_edge_cases,test_cosine_scheduler_with_eta_min,test_scheduler_type_coverage,test_multiple_schedulers_same_optimizer | test scheduler factory | RL Core Unit |
| tests/test_seeding.py | test_seed_method_exists,test_seed_accepts_integer,test_seed_accepts_none,test_seed_value_storage,test_seed_logging,test_seed_returns_self,test_multiple_seeding_operations,test_seed_debugging_hook,test_env_manager_seeding_integration,test_env_manager_seed_propagation,test_env_manager_seeding_logging,test_seeding_contract_consistency,test_seeding_state_independence,test_seeding_future_extensibility,test_seed_with_negative_values,test_seed_with_large_values,test_seed_type_handling,test_seed_memory_efficiency,test_full_system_seeding_workflow,test_seeding_with_real_training_components,test_seeding_persistence_across_operations | test seeding | Integration |
| tests/test_session_manager.py | test_directory_setup_creates_missing_directories,test_save_effective_config_with_missing_directory,test_wandb_enabled_directory_consistency,test_multiple_session_managers_different_directories,test_init_with_explicit_run_name,test_init_with_args_run_name,test_init_with_config_run_name,test_init_with_auto_generated_name,test_init_run_name_precedence,test_full_workflow,test_finalize_session,test_properties_raise_error_before_setup,test_directory_setup_failure,test_wandb_setup_failure,test_config_saving_failure,test_get_session_summary,test_log_session_info,test_trainer_initializes_and_uses_session_manager,test_trainer_delegates_info_logging_to_session_manager | test session manager | Manager Unit |
| tests/test_shogi_board_alignment.py | test_shogi_board_padding_width | test shogi board alignment | Shogi Engine Unit |
| tests/test_shogi_core_definitions.py | test_piece_creation_and_attributes,test_piece_promote,test_piece_unpromote,test_piece_symbol,test_piece_repr,test_piece_eq_and_hash,test_piece_deepcopy,test_get_piece_type_from_symbol_valid,test_get_piece_type_from_symbol_invalid,test_dictionary_constants | test shogi core definitions | Shogi Engine Unit |
| tests/test_shogi_engine_integration.py | test_shogigame_init_and_reset,test_shogigame_to_string,test_shogigame_is_on_board,test_get_individual_piece_moves_on_empty_board,test_get_individual_king_moves_on_empty_board,test_get_individual_piece_moves_bishop_rook_parameterized,test_shogigame_get_observation,test_nifu_detection,test_nifu_promoted_pawn_does_not_count,test_nifu_after_capture_and_drop,test_nifu_promote_and_drop,test_uchi_fu_zume,test_uchi_fu_zume_complex_escape,test_uchi_fu_zume_non_pawn_drop,test_uchi_fu_zume_king_in_check,test_sennichite_detection,test_sennichite_with_drops,test_sennichite_with_captures,test_illegal_pawn_drop_last_rank,test_illegal_knight_drop_last_two_ranks,test_illegal_lance_drop_last_rank,test_checkmate_minimal,test_stalemate_minimal | test shogi engine integration | Integration |
| tests/test_shogi_game_core_logic.py | test_get_observation_initial_state_dimensions,test_get_observation_hand_pieces_black_one_pawn,test_get_observation_hand_pieces_white_one_rook,test_get_observation_multiple_hand_pieces_mixed_players,test_get_observation_empty_hands,test_get_observation_current_player_plane_black_turn,test_get_observation_current_player_plane_white_turn,test_get_observation_move_count_plane,test_get_observation_board_pieces_consistency_after_reset,test_get_observation_promoted_piece_on_board,test_undo_move_simple_board_move,test_undo_move_capture,test_undo_move_drop,test_undo_move_promotion_no_capture,test_undo_move_promotion_with_capture,test_undo_move_forced_promotion,test_undo_move_multiple_moves,test_sfen_initial_position,test_sfen_custom_position_no_hands,test_sfen_with_hands,test_sfen_promoted_pieces_on_board,test_sfen_empty_board_no_hands,test_sfen_complex_hands_and_promotions,test_sfen_hand_piece_order_canonicalization,test_sfen_invalid_strings,test_game_termination_checkmate_stalemate,test_game_termination_max_moves,test_game_termination_sennichite,test_move_legality_pinned_piece,test_illegal_movement_pattern_raises_valueerror | test shogi game core logic | Shogi Engine Unit |
| tests/test_shogi_game_io.py | test_generate_neural_network_observation_initial_state,test_generate_neural_network_observation_after_three_moves,test_generate_neural_network_observation_after_pawn_capture,test_generate_neural_network_observation_after_pawn_promotion,test_convert_game_to_text_representation_initial_state,test_convert_game_to_text_representation_after_three_moves,test_convert_game_to_text_representation_after_pawn_capture,test_game_to_kif_writes_valid_kif_file_after_moves,test_sfen_to_move_tuple_parses_standard_and_drop_moves,test_parse_sfen_square_parses_various_squares,test_get_piece_type_from_sfen_char_handles_all_piece_types_and_promotions,test_convert_game_to_text_representation_complex_state,test_game_to_kif_checkmate_and_hands,test_generate_neural_network_observation_max_hands_and_promoted_board,test_generate_neural_network_observation_move_count_normalization,test_sfen_to_move_tuple_invalid_formats | test shogi game io | Shogi Engine Unit |
| tests/test_shogi_game_mock_comprehensive.py | test_game_initialization,test_game_reset,test_get_set_piece,test_is_on_board,test_make_move_basic,test_make_move_capture,test_make_move_promotion,test_make_move_piece_drop,test_undo_basic_move,test_undo_capture_move,test_undo_promotion_move,test_undo_drop_move,test_undo_move_preserves_legal_moves_pinned_piece_in_check,test_move_limit | test shogi game mock comprehensive | Shogi Engine Unit |
| tests/test_shogi_game_rewards.py | test_reward_ongoing_game,test_reward_checkmate_winner,test_reward_checkmate_loser,test_reward_stalemate_draw,test_reward_max_moves_draw,test_reward_sennichite_draw,test_make_move_returns_reward_in_tuple,test_make_move_returns_correct_reward_at_terminal_state,test_make_move_returns_perspective_specific_reward | test shogi game rewards | Shogi Engine Unit |
| tests/test_shogi_rules_and_validation.py | test_can_drop_piece_empty_square,test_cannot_drop_piece_occupied_square,test_can_drop_pawn_nifu_false,test_cannot_drop_pawn_nifu_true,test_nifu_with_promoted_pawn_on_file_is_legal,test_cannot_drop_pawn_last_rank_black,test_cannot_drop_pawn_last_rank_white,test_cannot_drop_lance_last_rank_black,test_cannot_drop_lance_last_rank_white,test_cannot_drop_knight_last_two_ranks_black,test_cannot_drop_knight_last_two_ranks_white,test_can_drop_gold_any_rank,test_cannot_drop_pawn_uchi_fu_zume,test_can_drop_pawn_not_uchi_fu_zume_escape_possible,test_generate_legal_moves_includes_valid_pawn_drop,test_generate_legal_moves_excludes_nifu_pawn_drop,test_generate_legal_moves_excludes_pawn_drop_last_rank,test_generate_legal_moves_excludes_knight_drop_last_two_ranks,test_generate_legal_moves_excludes_drop_leaving_king_in_check,test_generate_legal_moves_includes_drop_giving_check,test_generate_legal_moves_no_drops_if_hand_empty,test_generate_legal_moves_board_moves_and_drop_moves,test_can_drop_specific_piece_pawn_no_nifu_uchi_fu_zume_valid_rank,test_generate_all_legal_moves_promotion_options,test_generate_all_legal_moves_forced_promotion,test_drop_pawn_checkmate_is_legal_not_uchifuzume,test_drop_non_pawn_checkmate_is_legal,test_cannot_drop_piece_if_no_piece_in_hand,test_drop_multiple_piece_types_available,test_drop_pawn_respects_uchi_fu_zume_in_generate_all_legal_moves,test_uchifuzume_king_can_escape_diagonally_not_uchifuzume,test_uchifuzume_king_can_capture_checking_pawn_not_uchifuzume,test_uchifuzume_another_piece_can_capture_checking_pawn_not_uchifuzume,test_uchifuzume_pawn_drop_is_mate_and_king_has_no_legal_moves_IS_uchifuzume,test_uchifuzume_pawn_drop_check_but_not_mate_due_to_block_not_uchifuzume,test_get_observation_with_hand_pieces_black,test_get_observation_with_hand_pieces_white,test_get_observation_empty_hands,test_undo_move_simple_board_move,test_undo_move_capture,test_undo_move_drop,test_undo_move_promotion_no_capture,test_undo_move_promotion_with_capture,test_undo_move_forced_promotion,test_gamelm_pinned_rook_cannot_expose_king,test_gamelm_pinned_bishop_cannot_expose_king,test_gamelm_king_cannot_move_into_check | test shogi rules and validation | Shogi Engine Unit |
| tests/test_shogi_utils.py | test_policy_output_mapper_init,test_policy_output_mapper_mappings,test_get_legal_mask,test_policy_output_mapper_total_actions,test_board_move_to_policy_index_edges,test_drop_move_to_policy_index_edges,test_get_legal_mask_all_legal,test_usi_sq,test_usi_sq_invalid,test_get_usi_char_for_drop_valid,test_get_usi_char_for_drop_invalid,test_shogi_move_to_usi_valid,test_shogi_move_to_usi_invalid,test_usi_to_shogi_move_valid,test_usi_to_shogi_move_invalid,test_shogi_move_to_policy_index_enum_identity_fallback | test shogi utils | Shogi Engine Unit |
| tests/test_step_manager.py | test_episode_state_creation,test_step_result_creation,test_step_result_defaults,test_initialization,test_successful_step_execution,test_agent_select_action_fails,test_make_move_raises_exception,test_make_move_invalid_result_format,test_reset_also_fails,test_demo_mode_enabled,test_successful_episode_end,test_episode_end_white_wins,test_episode_end_draw,test_episode_end_win_rate_calculation,test_episode_end_zero_games,test_episode_end_reset_fails,test_successful_reset,test_update_episode_state,test_prepare_demo_info_success,test_prepare_demo_info_scenarios,test_prepare_demo_info_exception_handling,test_handle_demo_mode,test_handle_demo_mode_no_current_player,test_handle_demo_mode_no_delay,test_execute_step_no_legal_moves_terminal_condition,test_execute_step_no_legal_moves_with_episode_state,test_execute_step_normal_flow_with_legal_moves,test_execute_step_no_legal_moves_logs_appropriate_level,test_best_capture_per_player,test_move_logs_reset_on_episode_end,test_best_capture_reset_on_episode_end,test_counts_latch_and_reset | test step manager | Manager Unit |
| tests/test_train.py | test_train_cli_help,test_train_resume_autodetect,test_train_runs_minimal,test_train_config_override,test_train_run_name_and_savedir,test_train_explicit_resume | test train | Integration |
| tests/test_trainer_config.py | test_trainer_instantiates_resnet_and_features,test_trainer_invalid_feature_raises,test_trainer_invalid_model_raises,test_cli_overrides_config | test trainer config | Integration |
| tests/test_trainer_resume_state.py | test_trainer_restore_state_from_checkpoint_data,test_trainer_restore_state_with_missing_checkpoint_fields,test_trainer_no_checkpoint_resume_preserves_initial_state,test_trainer_error_handling_agent_not_initialized,test_trainer_model_manager_integration_flow,test_trainer_end_to_end_resume_state_verification | test trainer resume state | Integration |
| tests/test_trainer_session_integration.py | test_trainer_initialization_and_properties,test_session_manager_finalization,test_session_manager_error_handling | test trainer session integration | Integration |
| tests/test_trainer_training_loop_integration.py | test_run_training_loop_with_checkpoint_resume_logging,test_run_training_loop_fresh_start_no_resume_logging,test_run_training_loop_keyboard_interrupt_handling,test_run_training_loop_general_exception_handling,test_training_loop_state_consistency_throughout_execution | test trainer training loop integration | Integration |
| tests/test_training_loop_manager.py | test_training_loop_manager_initialization,test_set_initial_episode_state,test_training_loop_manager_basic_functionality,test_run_epoch_functionality,test_training_loop_manager_run_method_structure | test training loop manager | Integration |
| tests/test_utils_checkpoint_validation.py | test_validate_checkpoint_valid_file,test_validate_checkpoint_corrupted_file,test_validate_checkpoint_missing_file,test_find_latest_checkpoint_with_valid_checkpoints,test_find_latest_checkpoint_with_corrupted_latest,test_find_latest_checkpoint_all_corrupted,test_find_latest_checkpoint_no_checkpoints,test_find_latest_checkpoint_directory_not_exist,test_validate_checkpoint_handles_various_exceptions,test_validation_error_messages,test_find_latest_checkpoint_all_corrupted_message | test utils checkpoint validation | Utility Unit |
| tests/test_wandb_integration.py | test_create_model_artifact_wandb_disabled,test_create_model_artifact_success,test_create_model_artifact_missing_file,test_create_model_artifact_wandb_error,test_create_model_artifact_default_parameters,test_create_model_artifact_retry_logic,test_sweep_config_mapping,test_sweep_config_no_wandb_run,test_sweep_config_partial_parameters,test_setup_wandb_disabled,test_setup_wandb_scenarios,test_log_both_impl_creation_and_wandb_logic,test_log_both_impl_wandb_run_none,test_log_both_impl_wandb_disabled_in_config,test_log_both_impl_also_to_wandb_false,test_session_manager_wandb_state_consistency | test wandb integration | Integration |
_This table should serve as a starting point for reorganizing the existing tests into structured folders such as `tests/unit/`, `tests/integration/`, and `tests/e2e/` while maintaining coverage of each subsystem._
